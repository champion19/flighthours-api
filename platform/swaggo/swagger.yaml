basePath: /flighthours/api/v1
definitions:
  github_com_champion19_flighthours-api_core_interactor_services_domain.MessageType:
    enum:
    - ERROR
    - EXITO
    - WARNING
    - INFO
    - DEBUG
    type: string
    x-enum-varnames:
    - TypeError
    - TypeSuccess
    - TypeWarning
    - TypeInfo
    - TypeDebug
  handlers.AirlineListResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      airlines:
        items:
          $ref: '#/definitions/handlers.AirlineResponse'
        type: array
      total:
        type: integer
    type: object
  handlers.AirlineResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      airline_code:
        type: string
      airline_name:
        type: string
      id:
        type: string
      status:
        type: string
      uuid:
        type: string
    type: object
  handlers.AirportListResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      airports:
        items:
          $ref: '#/definitions/handlers.AirportResponse'
        type: array
      total:
        type: integer
    type: object
  handlers.AirportResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      airport_type:
        type: string
      city:
        type: string
      country:
        type: string
      iata_code:
        type: string
      id:
        type: string
      name:
        type: string
      status:
        type: string
    type: object
  handlers.CacheReloadResponse:
    properties:
      after_count:
        type: integer
      before_count:
        type: integer
      message:
        type: string
      success:
        type: boolean
    type: object
  handlers.ChangePasswordRequest:
    properties:
      confirm_password:
        minLength: 8
        type: string
      current_password:
        type: string
      email:
        type: string
      new_password:
        minLength: 8
        type: string
    required:
    - confirm_password
    - current_password
    - email
    - new_password
    type: object
  handlers.ChangePasswordResponse:
    properties:
      changed:
        type: boolean
      email:
        type: string
    type: object
  handlers.EmployeeRequest:
    properties:
      active:
        type: boolean
      airline:
        type: string
      bp:
        type: string
      email:
        type: string
      end_date:
        type: string
      identificationNumber:
        type: string
      name:
        type: string
      password:
        type: string
      role:
        type: string
      start_date:
        type: string
    type: object
  handlers.EmployeeResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      active:
        type: boolean
      airline:
        type: string
      bp:
        type: string
      email:
        type: string
      end_date:
        type: string
      id:
        type: string
      identification_number:
        type: string
      name:
        type: string
      role:
        type: string
      start_date:
        type: string
    type: object
  handlers.Link:
    properties:
      href:
        type: string
      method:
        type: string
      rel:
        type: string
    type: object
  handlers.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  handlers.LoginResponse:
    properties:
      access_token:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
      token_type:
        type: string
    type: object
  handlers.MessageCreatedResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      id:
        type: string
    type: object
  handlers.MessageDeletedResponse:
    type: object
  handlers.MessageListResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      count:
        type: integer
      messages:
        items:
          $ref: '#/definitions/handlers.MessageResponse'
        type: array
    type: object
  handlers.MessageRequest:
    properties:
      active:
        type: boolean
      category:
        type: string
      code:
        type: string
      content:
        type: string
      module:
        type: string
      title:
        type: string
      type:
        $ref: '#/definitions/github_com_champion19_flighthours-api_core_interactor_services_domain.MessageType'
    type: object
  handlers.MessageResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      active:
        type: boolean
      category:
        type: string
      code:
        type: string
      content:
        type: string
      id:
        type: string
      module:
        type: string
      title:
        type: string
      type:
        $ref: '#/definitions/github_com_champion19_flighthours-api_core_interactor_services_domain.MessageType'
    type: object
  handlers.MessageUpdatedResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
    type: object
  handlers.PasswordResetRequest:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  handlers.PasswordResetResponse:
    properties:
      sent:
        type: boolean
    type: object
  handlers.RegisterEmployeeResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
    type: object
  handlers.ResendVerificationEmailRequest:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  handlers.ResendVerificationEmailResponse:
    properties:
      email:
        type: string
      sent:
        type: boolean
    type: object
  handlers.UpdateEmployeeRequest:
    properties:
      active:
        type: boolean
      airline:
        type: string
      bp:
        type: string
      end_date:
        type: string
      identificationNumber:
        type: string
      name:
        type: string
      role:
        type: string
      start_date:
        type: string
    type: object
  handlers.UpdateEmployeeResponse:
    properties:
      _links:
        items:
          $ref: '#/definitions/handlers.Link'
        type: array
      id:
        type: string
      updated:
        type: boolean
    type: object
  handlers.UpdatePasswordRequest:
    properties:
      confirm_password:
        minLength: 8
        type: string
      new_password:
        minLength: 8
        type: string
      token:
        type: string
    required:
    - confirm_password
    - new_password
    - token
    type: object
  handlers.UpdatePasswordResponse:
    properties:
      email:
        type: string
      updated:
        type: boolean
    type: object
  handlers.VerifyEmailRequest:
    properties:
      token:
        type: string
    required:
    - token
    type: object
  handlers.VerifyEmailResponse:
    properties:
      email:
        type: string
      verified:
        type: boolean
    type: object
  middleware.APIResponse:
    properties:
      code:
        description: Business message code
        type: string
      data: {}
      message:
        description: Business message content
        type: string
      success:
        type: boolean
    type: object
  middleware.ErrorResponse:
    properties:
      code:
        type: string
      message:
        type: string
      success:
        type: boolean
    type: object
externalDocs:
  description: OpenAPI
  url: https://swagger.io/resources/open-api/
host: localhost:8081
info:
  contact:
    email: support@flighthours.com
    name: Flighthours API Support
    url: https://flighthours.com/support
  description: API RESTful para la plataforma Flighthours, implementada con arquitectura
    hexagonal y siguiendo los principios del Richardson Maturity Model (Nivel 2-3)
    con HATEOAS.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Flighthours Backend API
  version: "1.0"
paths:
  /airlines:
    get:
      description: Returns a list of all airlines with optional status filter
      parameters:
      - description: Filter by status (true for active, false for inactive)
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AirlineListResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List all airlines
      tags:
      - Airlines
  /airlines/{id}:
    get:
      consumes:
      - application/json
      description: Returns airline information by ID (accepts both UUID and obfuscated
        ID)
      parameters:
      - description: Airline ID (UUID or obfuscated)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get airline by ID
      tags:
      - Airlines
  /airlines/{id}/activate:
    patch:
      consumes:
      - application/json
      description: Sets airline status to active (accepts both UUID and obfuscated
        ID)
      parameters:
      - description: Airline ID (UUID or obfuscated)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Activate airline
      tags:
      - Airlines
  /airlines/{id}/deactivate:
    patch:
      consumes:
      - application/json
      description: Sets airline status to inactive (accepts both UUID and obfuscated
        ID)
      parameters:
      - description: Airline ID (UUID or obfuscated)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Deactivate airline
      tags:
      - Airlines
  /airports:
    get:
      consumes:
      - application/json
      description: Returns a list of all airports with optional status filter
      parameters:
      - description: Filter by status (true/false, active/inactive)
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AirportListResponse'
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List all airports
      tags:
      - Airports
  /airports/{id}:
    get:
      consumes:
      - application/json
      description: Returns airport information by ID (accepts both UUID and obfuscated
        ID)
      parameters:
      - description: Airport ID (UUID or obfuscated)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get airport by ID
      tags:
      - Airports
  /airports/{id}/activate:
    patch:
      consumes:
      - application/json
      description: Sets airport status to active (accepts both UUID and obfuscated
        ID)
      parameters:
      - description: Airport ID (UUID or obfuscated)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Activate airport
      tags:
      - Airports
  /airports/{id}/deactivate:
    patch:
      consumes:
      - application/json
      description: Sets airport status to inactive (accepts both UUID and obfuscated
        ID)
      parameters:
      - description: Airport ID (UUID or obfuscated)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Deactivate airport
      tags:
      - Airports
  /auth/change-password:
    post:
      consumes:
      - application/json
      description: Permite a un usuario cambiar su contraseña conociendo la contraseña
        actual. Este flujo no requiere salir de la API ni tokens por email.
      parameters:
      - description: Email, contraseña actual y nueva contraseña
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Contraseña cambiada exitosamente
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.ChangePasswordResponse'
              type: object
        "400":
          description: Error de validación - Contraseñas no coinciden
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "401":
          description: Contraseña actual incorrecta
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "404":
          description: Usuario no encontrado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Cambiar contraseña de usuario autenticado
      tags:
      - authentication
  /auth/login:
    post:
      consumes:
      - application/json
      description: Autentica un usuario y retorna tokens de acceso
      parameters:
      - description: Credenciales de login
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login exitoso
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.LoginResponse'
              type: object
        "400":
          description: Credenciales inválidas
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "401":
          description: Email no verificado o credenciales incorrectas
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Login de usuario
      tags:
      - Autenticación
  /auth/password-reset:
    post:
      consumes:
      - application/json
      description: Envía un email con instrucciones para recuperar la contraseña de
        un usuario
      parameters:
      - description: Email del usuario
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.PasswordResetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Email de recuperación enviado
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.PasswordResetResponse'
              type: object
        "400":
          description: Error de validación - Email inválido
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "404":
          description: Usuario no encontrado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Solicitar recuperación de contraseña
      tags:
      - authentication
  /auth/resend-verification:
    post:
      consumes:
      - application/json
      description: Reenvía el email de verificación a un usuario registrado que no
        ha verificado su cuenta
      parameters:
      - description: Email del usuario
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ResendVerificationEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Email reenviado exitosamente
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.ResendVerificationEmailResponse'
              type: object
        "400":
          description: Error de validación - Email inválido
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "404":
          description: Usuario no encontrado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Reenviar email de verificación
      tags:
      - authentication
  /auth/update-password:
    post:
      consumes:
      - application/json
      description: Actualiza la contraseña del usuario usando el token recibido por
        email
      parameters:
      - description: Token y nueva contraseña
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdatePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Contraseña actualizada exitosamente
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.UpdatePasswordResponse'
              type: object
        "400":
          description: Error de validación - Contraseñas no coinciden o token inválido
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "401":
          description: Token inválido o expirado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Actualizar contraseña con token
      tags:
      - authentication
  /auth/verify-email:
    post:
      consumes:
      - application/json
      description: Verifica el email de un usuario usando un token JWT. Este endpoint
        actúa como proxy para no exponer Keycloak directamente.
      parameters:
      - description: Token de verificación del email
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.VerifyEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Email verificado exitosamente
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.VerifyEmailResponse'
              type: object
        "400":
          description: Token inválido o expirado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "404":
          description: Usuario no encontrado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "409":
          description: Email ya estaba verificado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Verificar email de usuario (Proxy)
      tags:
      - Autenticación
  /employees/{id}:
    delete:
      consumes:
      - application/json
      description: Elimina un empleado del sistema (BD y Keycloak). Esta operación
        es irreversible.
      parameters:
      - description: ID del empleado (UUID o ID ofuscado)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Empleado eliminado exitosamente
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "404":
          description: Empleado no encontrado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Eliminar empleado
      tags:
      - employees
    get:
      consumes:
      - application/json
      description: Obtiene la información de un empleado por su ID. Acepta tanto UUID
        como ID ofuscado. No expone la contraseña del usuario.
      parameters:
      - description: ID del empleado (UUID o ID ofuscado)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Empleado encontrado
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.EmployeeResponse'
              type: object
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "404":
          description: Empleado no encontrado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Obtener empleado por ID
      tags:
      - employees
    put:
      consumes:
      - application/json
      description: |-
        Actualiza la información general de un empleado (nombre, airline, bp, fechas, rol, active).
        Los campos email y password NO se modifican ya que se manejan en endpoints separados.
        Si el campo active cambia, se sincroniza el estado enabled/disabled con Keycloak.
        Si el campo role cambia, se actualiza el rol asignado en Keycloak.
      parameters:
      - description: ID del empleado (UUID o ID ofuscado)
        in: path
        name: id
        required: true
        type: string
      - description: Datos a actualizar
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateEmployeeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Empleado actualizado exitosamente
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.UpdateEmployeeResponse'
              type: object
        "400":
          description: Error de validación - JSON inválido o ID inválido
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "404":
          description: Empleado no encontrado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Actualizar información de empleado
      tags:
      - employees
  /employees/me:
    delete:
      consumes:
      - application/json
      description: Elimina la cuenta del empleado actualmente autenticado (BD y Keycloak).
        Esta operación es irreversible.
      produces:
      - application/json
      responses:
        "200":
          description: Cuenta eliminada exitosamente
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "401":
          description: No autenticado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      security:
      - BearerAuth: []
      summary: Eliminar cuenta del empleado autenticado
      tags:
      - employees
    get:
      consumes:
      - application/json
      description: Obtiene la información del empleado actualmente autenticado usando
        el token JWT. No expone la contraseña.
      produces:
      - application/json
      responses:
        "200":
          description: Empleado encontrado
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.EmployeeResponse'
              type: object
        "401":
          description: No autenticado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      security:
      - BearerAuth: []
      summary: Obtener información del empleado autenticado
      tags:
      - employees
    put:
      consumes:
      - application/json
      description: Actualiza la información del empleado actualmente autenticado.
        Los campos email y password NO se modifican.
      parameters:
      - description: Datos a actualizar
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateEmployeeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Empleado actualizado exitosamente
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.UpdateEmployeeResponse'
              type: object
        "400":
          description: Error de validación
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "401":
          description: No autenticado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      security:
      - BearerAuth: []
      summary: Actualizar información del empleado autenticado
      tags:
      - employees
  /messages:
    get:
      description: Obtiene una lista de mensajes del sistema con filtros opcionales.
        Permite filtrar por módulo, tipo, categoría y estado activo.
      parameters:
      - description: 'Filtrar por módulo (ej: users, flights, bookings)'
        in: query
        name: module
        type: string
      - description: Filtrar por tipo (ERROR, WARNING, INFO, SUCCESS)
        in: query
        name: type
        type: string
      - description: Filtrar por categoría (usuario_final, sistema, validacion)
        in: query
        name: category
        type: string
      - description: Filtrar por estado activo (true, false)
        in: query
        name: active
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Lista de mensajes obtenida exitosamente
          schema:
            $ref: '#/definitions/handlers.MessageListResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
      summary: Listar mensajes del sistema
      tags:
      - messages
    post:
      consumes:
      - application/json
      description: Crea un nuevo mensaje del sistema con tipo, categoría y contenido.
        Los mensajes se utilizan para mostrar información, advertencias y errores
        a los usuarios.
      parameters:
      - description: Datos del mensaje a crear
        in: body
        name: message
        required: true
        schema:
          $ref: '#/definitions/handlers.MessageRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Mensaje creado exitosamente
          schema:
            $ref: '#/definitions/handlers.MessageCreatedResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
        "409":
          description: El código del mensaje ya existe
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
      summary: Crear un nuevo mensaje del sistema
      tags:
      - messages
  /messages/{id}:
    delete:
      description: Elimina un mensaje del sistema de forma permanente. Esta acción
        no se puede deshacer.
      parameters:
      - description: ID del mensaje (encoded)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Mensaje eliminado exitosamente
          schema:
            $ref: '#/definitions/handlers.MessageDeletedResponse'
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
        "404":
          description: Mensaje no encontrado
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
      summary: Eliminar un mensaje del sistema
      tags:
      - messages
    get:
      description: Obtiene los detalles de un mensaje del sistema específico por su
        ID.
      parameters:
      - description: ID del mensaje (encoded)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Mensaje encontrado exitosamente
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: ID inválido
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
        "404":
          description: Mensaje no encontrado
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
      summary: Obtener un mensaje por ID
      tags:
      - messages
    put:
      consumes:
      - application/json
      description: Actualiza un mensaje del sistema existente. Permite modificar tipo,
        categoría, contenido y estado activo.
      parameters:
      - description: ID del mensaje (encoded)
        in: path
        name: id
        required: true
        type: string
      - description: Datos del mensaje a actualizar
        in: body
        name: message
        required: true
        schema:
          $ref: '#/definitions/handlers.MessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Mensaje actualizado exitosamente
          schema:
            $ref: '#/definitions/handlers.MessageUpdatedResponse'
        "400":
          description: Datos de entrada inválidos
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
        "404":
          description: Mensaje no encontrado
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
      summary: Actualizar un mensaje del sistema
      tags:
      - messages
  /messages/reload:
    post:
      description: Recarga el caché de mensajes desde la base de datos. Útil después
        de hacer cambios masivos a mensajes.
      produces:
      - application/json
      responses:
        "200":
          description: Caché recargado exitosamente
          schema:
            $ref: '#/definitions/handlers.CacheReloadResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.ErrorResponse'
      summary: Recargar caché de mensajes
      tags:
      - messages
  /register:
    post:
      consumes:
      - application/json
      description: Crea una nueva cuenta de empleado en el sistema con sincronización
        a Keycloak. Incluye validación de datos, verificación de duplicados y creación
        de usuario en el sistema de autenticación.
      parameters:
      - description: Datos del empleado a registrar
        in: body
        name: account
        required: true
        schema:
          $ref: '#/definitions/handlers.EmployeeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Cuenta creada exitosamente
          schema:
            allOf:
            - $ref: '#/definitions/middleware.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/handlers.RegisterEmployeeResponse'
              type: object
        "400":
          description: Error de validación - Datos inválidos o incompletos
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "409":
          description: Conflicto - Email o número de identidad ya registrado
          schema:
            $ref: '#/definitions/middleware.APIResponse'
        "500":
          description: Error interno del servidor
          schema:
            $ref: '#/definitions/middleware.APIResponse'
      summary: Registrar nueva cuenta de empleado
      tags:
      - accounts
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
